-- Урок 1: Переменные в Lua

-- -- Объявление локальных переменных различных типов
-- local isGameActive = true          -- boolean
-- local playerScore = 150            -- number
-- local playerName = "Alex"          -- string
-- local playerStats = {              -- table
--     health = 100,
--     mana = 50
-- }

-- -- Вывод информации о игроке
-- print("Имя игрока:", playerName)
-- print("Счёт игрока:", playerScore)
-- print("Здоровье игрока:", playerStats.health)
--------------------------------------------------------------
-- Что такое переменная?
-- Переменная — это "коробка", в которую можно положить какое-то значение (например, число или строку), чтобы использовать его позже в программе.
--------------------------------------------------------------

-- Как объявить переменную?
-- В Lua переменная объявляется с помощью ключевого слова local (лучше всегда использовать local).

-- Пример:
-- local myNumber = 10
-- local myText = "Привет, мир!"

--------------------------------------------------------------

-- Как изменить значение переменной?
-- Просто присвой новое значение:
-- myNumber = 20
-- myText = "Новое сообщение"

--------------------------------------------------------------

-- Для чего нужны переменные?
-- Чтобы хранить данные, которые могут меняться во время работы программы.
-- Например, счёт игрока, имя, количество жизней и т.д.

--------------------------------------------------------------

-- Имена переменных
-- Имя переменной должно начинаться с буквы или подчёркивания и может содержать буквы, цифры и подчёркивания.

-- Примеры:
-- local score = 0
-- local playerName = "Rusik"
-- local _temp = 5

--------------------------------------------------------------

-- Оператор присваивания
-- Знак = используется для присваивания значения переменной.

--------------------------------------------------------------

-- Пример использования переменных:
-- local apples = 5
-- local bananas = 3
-- local total = apples + bananas
-- print("Всего фруктов:", total) -- Выведет: Всего фруктов: 8

--------------------------------------------------------------

-- Итог:
-- Переменные — это основа любой программы. С их помощью ты можешь хранить и изменять данные, делать вычисления и управлять логикой игры!

--------------------------------------------------------------
--------------------------------------------------------------
-- Практические задачи
--------------------------------------------------------------

-- 1. Объявление и присваивание переменных
-- Задача:
-- Создай переменную с именем myNumber и присвой ей значение 10.
-- Выведи значение переменной в консоль.

-- Решение:
-- local myNumber2 = 10
-- print(myNumber2)

--------------------------------------------------------------

-- 2. Изменение значения переменной
-- Задача:
-- Пусть есть переменная counter со значением 5.
-- Увеличь значение переменной на 3 и выведи результат.

-- Решение:
-- local counter = 5
-- counter = counter + 3
-- print(counter) -- Ожидается: 8

--------------------------------------------------------------

-- 3. Использование нескольких переменных
-- Задача:
-- Пусть есть две переменные a и b.
-- Присвой a значение 7, b значение 4.
-- Создай переменную sum, в которую запиши сумму a и b.
-- Выведи значение sum.

-- Решение:
-- local a = 7
-- local b = 4
-- local sum = a + b
-- print(sum) -- Ожидается: 11

--------------------------------------------------------------

-- 4. Обмен значениями двух переменных
-- Задача:
-- Пусть есть две переменные x и y.
-- Присвой x значение 3, y значение 9.
-- Поменяй значения x и y местами и выведи их.

-- Решение:
-- local x = 3
-- local y = 9
-- x, y = y, x
-- print("x:", x, "y:", y) -- Ожидается: x: 9 y: 3

--------------------------------------------------------------

-- 5. Конкатенация строк
-- Задача:
-- Пусть есть две переменные firstName и lastName.
-- Присвой им любые значения.
-- Создай переменную fullName, в которую запиши их объединение через пробел.
-- Выведи fullName.

-- Решение:
-- local firstName = "Иван"
-- local lastName = "Иванов"
-- local fullName = firstName .. " " .. lastName
-- print(fullName) -- Ожидается: Иван Иванов

--------------------------------------------------------------

-- 6. Итоговое задание
-- Задача:
-- Пусть есть переменная age.
-- Если age больше или равно 18, выведи "Совершеннолетний".
-- Иначе выведи "Несовершеннолетний".

-- Решение:
-- local age = 16
-- if age >= 18 then
--     print("Совершеннолетний")
-- else
--     print("Несовершеннолетний")
-- end


--------------------------------------------------------------
-- Дополнительный блок: Глобальные и локальные переменные
--------------------------------------------------------------

-- В Lua переменные бывают двух видов: глобальные и локальные.

-- 1. Глобальная переменная
-- Если переменная объявлена без ключевого слова local, она становится глобальной.
-- Такая переменная доступна во всём скрипте и даже в других скриптах (если они в одном окружении).

gameTitle = "MyGame" -- глобальная переменная

print("Название игры:", gameTitle) -- Можно использовать в любом месте скрипта

--------------------------------------------------------------

-- 2. Локальная переменная
-- Локальная переменная объявляется с помощью ключевого слова local.
-- Она доступна только внутри блока, где была создана (например, внутри функции или между do ... end).

local playerLevel = 5 -- локальная переменная

print("Уровень игрока:", playerLevel) -- Можно использовать здесь

--------------------------------------------------------------

-- 3. Локальная переменная внутри функции

function showCoins()
    local coins = 100 -- локальная переменная внутри функции
    print("Монеты игрока:", coins)
end

showCoins()
-- print(coins) -- Ошибка! coins не видна вне функции

--------------------------------------------------------------

-- 4. Глобальная переменная внутри функции

function setHighScore()
    highScore = 999 -- без local — это глобальная переменная!
end

setHighScore()
print("Рекорд:", highScore) -- highScore теперь доступна вне функции

--------------------------------------------------------------

-- 5. Почему лучше использовать локальные переменные?
-- Локальные переменные защищают данные от случайных изменений из других частей программы.
-- Глобальные переменные могут быть случайно изменены или перезаписаны.

--------------------------------------------------------------

-- 6. Пример: глобальная и локальная переменная с одинаковым именем

score = 50 -- глобальная переменная

function testScore()
    local score = 10 -- локальная переменная с тем же именем
    print("Локальный score:", score) -- Выведет: 10
end

testScore()
print("Глобальный score:", score) -- Выведет: 50

--------------------------------------------------------------

-- Итог:
-- Используй local для переменных, если они нужны только внутри функции или блока.
-- Глобальные переменные используй только если это действительно необходимо.